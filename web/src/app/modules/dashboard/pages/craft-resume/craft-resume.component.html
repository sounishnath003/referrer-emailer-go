<app-subhero title="Let's Craft a Tailored Resume"
    subtitle="âœ¨ Lets crack your next role with ATS friendly resume"></app-subhero>
<div class="max-w-2xl mx-auto mt-8 p-8 bg-white rounded-xl shadow-lg">
    <form (ngSubmit)="tailorResume(userEmailInput.value)" class="flex flex-col gap-4">
        <label for="jobDescription" class="font-semibold text-gray-700">Paste Job Description:</label>
        <textarea id="jobDescription" [(ngModel)]="jobDescription" name="jobDescription" rows="8" required
            maxlength="2000"
            class="w-full min-h-[120px] p-3 rounded-md border border-gray-300 text-base resize-vertical focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
        <div class="text-sm text-right"
            [ngClass]="{'text-red-600 font-semibold': jobDescription.length >= 2000, 'text-gray-500': jobDescription.length < 2000}">
            {{ jobDescription.length }}/2000
        </div>
        <label for="userEmail" class="font-semibold text-gray-700">Your Email:</label>
        <input id="userEmail" #userEmailInput type="email" required placeholder="Enter your email"
            class="w-full p-2 rounded-md border border-gray-300 text-base focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <button type="submit" [disabled]="loading || !jobDescription || !userEmailInput.value"
            class="bg-blue-600 text-white rounded-md px-6 py-2 text-lg font-medium mt-2 transition-colors duration-200 hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed">Tailor
            My Resume</button>
    </form>

    <div *ngIf="loading" class="mt-6 text-blue-600 font-semibold flex items-center gap-2"><span
            class="animate-spin inline-block w-5 h-5 border-2 border-blue-400 border-t-transparent rounded-full"></span>
        Generating tailored resume...</div>
    <div *ngIf="error" class="mt-6 text-red-600 font-semibold">{{ error }}</div>
</div>